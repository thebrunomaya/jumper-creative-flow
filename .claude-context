# Claude Code Context File
# Auto-managed by Claude Code sessions
# Tracks recent decisions and work-in-progress (last 7 days)
# Older decisions migrate to docs/ARCHITECTURE.md

last_updated: "2024-12-18T23:00:00Z"
session_computer: "MacBook Pro"
session_user: "Bruno Maya"

# Recent decisions (last 7 days)
# When older than 7 days, migrate to docs/ARCHITECTURE.md
recent_decisions:
  - date: "2024-12-18"
    decision: "TopCreativesSection Rollout - All 11 Dashboards"
    status: "complete ‚úÖ"
    details: |
      üéØ TOP CREATIVES ROLLOUT - SESS√ÉO 2024-12-18

      ## Feature Implementada (v2.1.102):

      ### Rollout TopCreativesSection para 11 Dashboards
      Componente reutiliz√°vel mostrando Top 3 criativos com medalhas em todos os dashboards.

      **Dashboards atualizados:**
      - TrafficDashboard (objetivo: "trafego")
      - LeadsDashboard (objetivo: "leads")
      - EngagementDashboard (objetivo: "engajamento")
      - BrandAwarenessDashboard (objetivo: "reconhecimento")
      - ReachDashboard (objetivo: "alcance")
      - VideoViewsDashboard (objetivo: "video")
      - ConversionsDashboard (objetivo: "conversoes")
      - SeguidoresDashboard (objetivo: "seguidores")
      - ConversasDashboard (objetivo: "conversas")
      - CadastrosDashboard (objetivo: "cadastros")
      - GeneralDashboard (objetivo: "geral")

      ### Padr√£o de Implementa√ß√£o
      - Import: `import { TopCreativesSection } from './TopCreativesSection';`
      - Date vars: `endDate = yesterday`, `startDate = N days back`
      - Component: `<TopCreativesSection accountId={...} objective="..." dateStart={...} dateEnd={...} />`

      ### Varia√ß√µes de Props
      - Maioria: `accountId={accountId}` (string direto)
      - GeneralDashboard: `accountId={accountInfo?.metaAdsId || null}` (via objeto)

    impact: "COMPLETE - Top Criativos vis√≠veis em todos os dashboards"
    files_changed:
      - "src/components/dashboards/TrafficDashboard.tsx"
      - "src/components/dashboards/LeadsDashboard.tsx"
      - "src/components/dashboards/EngagementDashboard.tsx"
      - "src/components/dashboards/BrandAwarenessDashboard.tsx"
      - "src/components/dashboards/ReachDashboard.tsx"
      - "src/components/dashboards/VideoViewsDashboard.tsx"
      - "src/components/dashboards/ConversionsDashboard.tsx"
      - "src/components/dashboards/SeguidoresDashboard.tsx"
      - "src/components/dashboards/ConversasDashboard.tsx"
      - "src/components/dashboards/CadastrosDashboard.tsx"
      - "src/components/dashboards/GeneralDashboard.tsx"
      - "docs/ROADMAP-DASHBOARDS.md"
      - "src/config/version.ts"
    deployed: true
    deployment_status: "Deployed v2.1.102 ‚úÖ"
    commits:
      - "42dd435: feat(dashboards): Rollout TopCreativesSection to all 11 dashboards (v2.1.102)"
    migrate_to_architecture: false

  - date: "2024-12-13"
    decision: "CreativeDetailModal - Modal completo ao clicar no card"
    status: "complete ‚úÖ"
    details: |
      Modal de detalhes implementado com m√©tricas consolidadas,
      inst√¢ncias do criativo, e tooltips explicativos.
    impact: "MAJOR - Nova experi√™ncia de an√°lise de criativos"
    files_changed:
      - "src/components/dashboards/CreativeDetailModal.tsx"
      - "src/hooks/useCreativeInstances.ts"
    deployed: true
    deployment_status: "Deployed v2.1.99 ‚úÖ"
    migrate_to_architecture: true  # >7 days, ready to migrate

# Current issues being worked on
current_issues: []

# Work in progress
work_in_progress:
  - feature: "Sistema de Criativos - Fases 1-3"
    status: "complete"
    completed:
      - "‚úÖ Componentes base (cards com medalhas ü•áü•àü•â)"
      - "‚úÖ Hook useTopCreatives com agrega√ß√£o por creative_id"
      - "‚úÖ Sistema de Thumbnails Permanentes"
      - "‚úÖ CreativeDetailModal com m√©tricas consolidadas"
      - "‚úÖ useCreativeInstances hook"
      - "‚úÖ Tooltips explicativos para clientes"
      - "‚úÖ Alertas de CTR/CPC fora do alvo"
      - "‚úÖ Rollout para TODOS os 11 dashboards"
    pending: []

# Context for next session
next_session_context: |
  üéØ SESSION 2024-12-18 COMPLETED: TOP CREATIVES ROLLOUT

  ## ‚úÖ O QUE FOI FEITO HOJE (v2.1.102):

  **Rollout TopCreativesSection:**
  - ‚úÖ 11 dashboards atualizados com Top Criativos
  - ‚úÖ Cada dashboard com objective espec√≠fico
  - ‚úÖ TypeScript validado (npx tsc --noEmit)
  - ‚úÖ Commit e push para main

  **Dashboards com Top Criativos:**
  - Traffic, Leads, Engagement, BrandAwareness
  - Reach, VideoViews, Conversions
  - Seguidores, Conversas, Cadastros, General

  ## üìã PR√ìXIMAS FASES (ROADMAP):

  1. FASE 4: Views SQL para Dashboard
     - v_creative_performance
     - v_creative_instances

  2. FASE 5: Dashboard de Performance de Criativos
     - P√°gina dedicada /criativos
     - Grid, filtros, ordena√ß√£o

  3. FASE 6: Sistema de Insights
     - Comparativos autom√°ticos
     - Detec√ß√£o de anomalias

  ## üìÅ ARQUIVOS IMPORTANTES:

  - TopCreativesSection: `src/components/dashboards/TopCreativesSection.tsx`
  - TopCreativeCard: `src/components/dashboards/TopCreativeCard.tsx`
  - Modal: `src/components/dashboards/CreativeDetailModal.tsx`
  - Hook: `src/hooks/useTopCreatives.ts`
  - Roadmap: `docs/ROADMAP-DASHBOARDS.md`

# TODOs pending
pending_todos:
  - "Fase 4: Criar views SQL para performance de criativos"
  - "Fase 5: Dashboard dedicado de criativos"

# Recently completed (for reference)
completed_recently:
  - "‚úÖ [2024-12-18 23:00] Rollout TopCreativesSection para todos os 11 dashboards (v2.1.102)"
  - "‚úÖ [2024-12-13 23:00] CreativeDetailModal com tooltips (v2.1.99)"

# Deployment status
deployment:
  production_url: "https://hub.jumper.studio"
  current_version: "v2.1.102"
  last_deploy: "2024-12-18T23:00:00Z"
  last_deploy_status: "TopCreativesSection rollout deployed ‚úÖ"
  last_commit: "42dd435 - feat(dashboards): Rollout TopCreativesSection to all 11 dashboards"
  database_status: "STABLE"
  known_issues: "None"
  recent_commits:
    - "42dd435: feat(dashboards): Rollout TopCreativesSection (v2.1.102)"
    - "522553d: feat(creatives): Add dynamic 10% spend threshold (v2.1.101)"
    - "cce5db3: fix(modal): Tooltip overflow v2 (v2.1.99)"

# Notes for context rotation
context_rotation:
  last_rotation: "2024-12-18"
  next_rotation: "2024-12-25"
  items_ready_to_migrate:
    - "CreativeDetailModal implementation (2024-12-13) - ready to migrate"
